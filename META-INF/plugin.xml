<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "http://plugins.intellij.net/plugin.dtd">
<idea-plugin version="2" url="http://code.google.com/p/checkstyle-idea/">
    <id>CheckStyle-IDEA</id>
    <name>CheckStyle-IDEA</name>
    <resource-bundle>org.infernus.idea.checkstyle.resource</resource-bundle>
    <description>
        <![CDATA[
<p>
    This plugin provides both real-time and on-demand scanning
    of Java files with CheckStyle from within the IDEA IDE.
</p>
        ]]>
    </description>
    <version>2.1</version>
    <idea-version since-build="7126"/>
    <vendor url="http://infernus.org/" email="james@infernus.org">James Shiell</vendor>

    <change-notes>
        <![CDATA[
<ul>
    <li>2.1: New: Ability to scan only modified files if project uses VCS. If the project
        does not use VCS then this action will have no effect. Thanks to J. G. Christopher
        for this patch.</li>
    <li>2.1: New: Ability to supress checks on test classes.</li>
    <li>2.1: New: Updated CheckStyle to 4.4.</li>
    <li>2.1: Fixed: PackageHtml test will now work.</li>
    <li>2.0.1: WARNING: Due to persistence changes you will need to reconfigure the plug-in after upgrading.</li>
    <li>2.0.1: Fixed: Configuration dialogue now enables 'apply' when moving to default
        scheme from a configuration file.</li>
    <li>2.0.1: Changed: Remove deprecated API calls to [hopefully] ensure forward 7.0 compatibility.</li>
    <li>2.0.1: Changed: Icons improved.</li>
    <li>2.0.0: This version offers no new features. However, 2.x versions will only work
        with IDEA 7M2 or above.</li>
    <li>2.0.0: Fixed: API changes for IDEA 7M2.</li>
    <li>1.0.2: Improved: Error handling.</li>
    <li>1.0.2: Fixed: Exception when settings opened while no project
        loaded.</li>
    <li>1.0.2: Fixed: Exception if inspection cancelled during results
        processing.</li>
    <li>1.0.2: Fixed: Exception if configuration panel opened while puppycrawl.com 
        could not be accessed.</li>
    <li>1.0.1: Fixed: Potenially IllegalState if project path cannot be retrieved
        within IDEA 7M1.</li>
    <li>1.0: New: Static scanning for current module implemented.</li>
    <li>1.0: New: Ability to add third-party checks.</li>
    <li>1.0: New: Ability to define external properties.</li>
    <li>1.0: New: Now works with IDEA 7M1.</li>
    <li>1.0: Fixed: Exceptions defined in project will no longer generate
        a CheckStyle error once they have been compiled.</li>
    <li>0.5.2: New: Settings are now stored in project, not workspace.</li>
    <li>0.5.1: Fixed: NullPointer when a null PSI element is encountered
        during scanning.</li>
    <li>0.5: Improved: Config file locations under the project root are now
      stored as relative rather than the system-specific absolute path.</li>
    <li>0.5: New: CheckStyle icons added.</li>
    <li>0.4: New: Static scanning implemented.</li>
    <li>0.4: New: Updated CheckStyle to 4.3.</li>
    <li>0.3: Improved: CheckStyle caching improved.</li>
    <li>0.3: Improved: Temporary file deletion.</li>
    <li>0.2: Fix: File browser for configuration file filters out directories.</li>
    <li>0.1: Initial release.</li>
</ul>
        ]]>
    </change-notes>

    <application-components>
        <component>
            <implementation-class>org.infernus.idea.checkstyle.CheckStyleProvider</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>org.infernus.idea.checkstyle.CheckStylePlugin</implementation-class>
            <interface-class>org.infernus.idea.checkstyle.CheckStylePlugin</interface-class>
        </component>
    </project-components>

    <actions>
        <group id="CheckStylePluginActions" text="CheckStyle" popup="true">
            <action id="CheckStyleCloseAction"
                    class="org.infernus.idea.checkstyle.actions.Close"
                    text="Close CheckStyle Window"
                    description="Close the CheckStyle tool window."
                    icon="/actions/cancel.png"/>

            <separator/>

            <action id="CheckStyleCurrentFileAction"
                    class="org.infernus.idea.checkstyle.actions.ScanCurrentFile"
                    text="Check Current File"
                    description="Run Checkstyle on the current file in the editor."
                    icon="/actions/execute.png">

                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>

            <action id="CheckStyleModuleFilesAction"
                    class="org.infernus.idea.checkstyle.actions.ScanModule"
                    text="Check Module"
                    description="Run Checkstyle on all files in the current module."
                    icon="/modules/modulesNode.png">

                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>

            <action id="CheckStyleProjectFilesAction"
                    class="org.infernus.idea.checkstyle.actions.ScanProject"
                    text="Check Project"
                    description="Run Checkstyle on all files in the current project."
                    icon="/general/projectTab.png">

                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>

            <action id="CheckStyleDefaultChangeListAction"
                    class="org.infernus.idea.checkstyle.actions.ScanModifiedFiles"
                    text="Check All Modified Files."
                    description="Run Checkstyle on all modified files."
                    icon="/general/toolWindowChanges.png">

                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>

            <separator/>

            <action id="CheckStyleScrollToSourceAction"
                    class="org.infernus.idea.checkstyle.actions.ScrollToSource"
                    text="Autoscroll to Source"
                    description="Auto-scroll to the source location of errors and warnings."
                    icon="/general/autoscrollToSource.png"/>

            <action id="CheckStyleExpandAllAction"
                    class="org.infernus.idea.checkstyle.actions.ExpandAll"
                    text="Expand All"
                    description="Expand all elements in the tool window."
                    icon="/actions/expandall.png"/>

            <action id="CheckStyleCollapseAllAction"
                    class="org.infernus.idea.checkstyle.actions.CollapseAll"
                    text="Collapse All"
                    description="Collapse all elements in the tool window."
                    icon="/actions/collapseall.png"/>
        </group>

    </actions>
</idea-plugin>